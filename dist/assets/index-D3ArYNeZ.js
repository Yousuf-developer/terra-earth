(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const _="modulepreload",B=function(e,r){return new URL(e,r).href},L={},O=function(r,o,a){let t=Promise.resolve();if(o&&o.length>0){let l=function(s){return Promise.all(s.map(u=>Promise.resolve(u).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};const c=document.getElementsByTagName("link"),f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));t=l(o.map(s=>{if(s=B(s,a),s in L)return;L[s]=!0;const u=s.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(!!a)for(let p=c.length-1;p>=0;p--){const y=c[p];if(y.href===s&&(!u||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${m}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":_,u||(d.as="script"),d.crossOrigin="",d.href=s,g&&d.setAttribute("nonce",g),document.head.appendChild(d),u)return new Promise((p,y)=>{d.addEventListener("load",p),d.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${s}`)))})}))}function n(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return t.then(l=>{for(const c of l||[])c.status==="rejected"&&n(c.reason);return r().catch(n)})},E=1e3,q="mobile-blocker",h=document.getElementById(q),i=document.querySelector(".enter-btn"),P=document.querySelector(".body-wrapper"),w=document.querySelector(".loader-screen");document.querySelector(".progress-fill");document.querySelector(".progress-text");(!i||!P||!w)&&console.warn("Essential DOM nodes missing: enterBtn/bodyWrapper/loaderScreen. Mobile-blocker script will continue but some features may not work.");function D(e,r=120){let o;return(...a)=>{clearTimeout(o),o=setTimeout(()=>e(...a),r)}}function v(e){h&&(e?(h.hidden=!1,i&&(i.classList.add("disabled"),i.setAttribute("aria-disabled","true")),document.documentElement.classList.add("device-blocked")):(h.hidden=!0,i&&(i.classList.remove("disabled"),i.removeAttribute("aria-disabled")),document.documentElement.classList.remove("device-blocked")))}function T(){const e=window.innerWidth<E;return v(e),e}T();window.addEventListener("resize",D(()=>{T()},120));let S=!1,b=!1;async function k(){if(!b){if(window.innerWidth<E){console.log("Start blocked: screen too small.");return}b=!0,P.classList.add("fade-out"),setTimeout(async()=>{var e;w.classList.add("active");try{if(S)console.log("script module already loaded.");else{const r=await O(()=>import("./script-LIaVBzTG.js"),[],import.meta.url);S=!0,r&&typeof r.initThreeJS=="function"?r.initThreeJS():typeof window.initThreeJS=="function"?window.initThreeJS():console.warn("script.js loaded but no initThreeJS export found. Ensure script.js exports initThreeJS().")}}catch(r){console.error("Failed to load script.js dynamically:",r);const o=document.createElement("p");o.style.color="salmon",o.textContent="Failed to start experience. Check console for details.",(e=w.querySelector(".loader-content"))==null||e.appendChild(o)}finally{b=!1}},800)}}i&&(i.addEventListener("click",e=>{e.preventDefault(),!i.classList.contains("disabled")&&k()}),i.addEventListener("keydown",e=>{if(e.key==="Enter"||e.key===" "){if(e.preventDefault(),i.classList.contains("disabled"))return;k()}}));window.__toggleDesktopBlock=e=>v(typeof e=="boolean"?e:window.innerWidth<E);
//# sourceMappingURL=index-D3ArYNeZ.js.map
